{"ast":null,"code":"export default {\n  name: \"LoginView\",\n  data() {\n    return {\n      //收集表单数据\n      ruleForm: {\n        username: '',\n        yzm: ''\n      },\n      rules: {\n        username: [{\n          required: true,\n          message: '请输入正确手机号',\n          trigger: 'blur'\n        }, {\n          pattern: /^(?:(?:\\+|00)86)?1(?:(?:3[\\d])|(?:4[5-79])|(?:5[0-35-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\\d])|(?:9[189]))\\d{8}$/,\n          message: '请输入手机号码',\n          trigger: 'blur'\n        }],\n        yzm: [{\n          required: true,\n          message: '请设置密码',\n          trigger: 'blur'\n        }],\n        confirmYzm: [{\n          required: true,\n          message: '请确认密码',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    //在获取数据\n    handleToLogin(formEl) {\n      if (!formEl) return;\n      formEl.validate(valid => {\n        if (valid) {\n          console.log(this.ruleForm);\n        } else {\n          console.log('error submit!');\n          return false;\n        }\n      });\n      if (this.ruleForm.yzm === this.ruleForm.confirmYzm && this.ruleForm.yzm && this.ruleForm.confirmYzm) {\n        window.location.href = '/login';\n      } else if (!this.ruleForm.username) {\n        alert('请输入电话号码');\n      } else if (!this.ruleForm.yzm || !this.ruleForm.confirmYzm) {\n        alert('请输入密码');\n      } else {\n        alert('两次输入密码不一致'), this.ruleForm.yzm = '', this.ruleForm.confirmYzm = \"\";\n      }\n\n      // window.location.href('/login')这是一个错误写法！！！\n      // window.location.href='/login'\n    }\n  }\n};","map":{"version":3,"mappings":"AAyBE,eAAc;EACZA,IAAI,EAAC,WAAW;EAChBC,IAAI,GAAE;IACJ,OAAM;MACJ;MACAC,QAAQ,EAAC;QACPC,QAAQ,EAAC,EAAE;QACXC,GAAG,EAAC;MAEN,CAAC;MACDC,KAAK,EAAC;QACJF,QAAQ,EAAE,CAAC;UAAEG,QAAQ,EAAE,IAAI;UAAEC,OAAO,EAAE,UAAU;UAAEC,OAAO,EAAE;QAAO,CAAC,EACxD;UAACC,OAAO,EAAC,4GAA4G;UAACF,OAAO,EAAC,SAAS;UAAEC,OAAO,EAAE;QAAM,CAAC,CAAC;QACrKJ,GAAG,EAAE,CAAC;UAACE,QAAQ,EAAE,IAAI;UAAEC,OAAO,EAAE,OAAO;UAAEC,OAAO,EAAE;QAAO,CAAC,CAAC;QAC3DE,UAAU,EAAE,CAAC;UAACJ,QAAQ,EAAE,IAAI;UAAEC,OAAO,EAAE,OAAO;UAAEC,OAAO,EAAE;QAAO,CAAC;MACnE;IACF;EACF,CAAC;EACDG,OAAO,EAAC;IACN;IACAC,aAAa,CAACC,MAAM,EAAE;MACpB,IAAI,CAACA,MAAM,EAAE;MACbA,MAAM,CAACC,QAAQ,CAAEC,KAAK,IAAK;QACzB,IAAIA,KAAK,EAAE;UACTC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACf,QAAQ;QAC3B,OAAO;UACLc,OAAO,CAACC,GAAG,CAAC,eAAe;UAC3B,OAAO,KAAI;QACb;MACF,CAAC;MACA,IAAG,IAAI,CAACf,QAAQ,CAACE,GAAG,KAAG,IAAI,CAACF,QAAQ,CAACQ,UAAU,IAAE,IAAI,CAACR,QAAQ,CAACE,GAAG,IAAE,IAAI,CAACF,QAAQ,CAACQ,UAAU,EAAC;QAC3FQ,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAC,QAAO;MAC/B,CAAC,MAAK,IAAG,CAAC,IAAI,CAAClB,QAAQ,CAACC,QAAQ,EAAC;QAC/BkB,KAAK,CAAC,SAAS;MACjB,CAAC,MAAK,IAAG,CAAC,IAAI,CAACnB,QAAQ,CAACE,GAAG,IAAE,CAAC,IAAI,CAACF,QAAQ,CAACQ,UAAU,EAAC;QACrDW,KAAK,CAAC,OAAO;MACf,OACI;QACFA,KAAK,CAAC,WAAW,CAAC,EAClB,IAAI,CAACnB,QAAQ,CAACE,GAAG,GAAC,EAAE,EACpB,IAAI,CAACF,QAAQ,CAACQ,UAAU,GAAC,EAAC;MAE5B;;MAEA;MACA;IACF;EACF;AAEF","names":["name","data","ruleForm","username","yzm","rules","required","message","trigger","pattern","confirmYzm","methods","handleToLogin","formEl","validate","valid","console","log","window","location","href","alert"],"sourceRoot":"","sources":["D:\\fast\\ke\\lianxi\\my-project666\\src\\views\\LoginView.vue"],"sourcesContent":["<template>\n  <div>\n    <el-form\n      ref=\"ruleFormRef\"\n      :model=\"ruleForm\"\n      status-icon\n      :rules=\"rules\"\n      label-width=\"120px\"\n      class=\"demo-ruleForm\">\n           <el-form-item label=\"手机号\" prop=\"username\">\n            <el-input v-model=\"ruleForm.username\" type=\"text\" autocomplete=\"off\" />\n           </el-form-item>\n           <el-form-item label=\"密码\" prop=\"yzm\">\n            <el-input v-model=\"ruleForm.yzm\" type=\"password\" autocomplete=\"off\" />\n           </el-form-item>\n           <el-form-item>\n            <el-button type='primary' @click=\"handleToLogin($refs.ruleFormRef)\">登录\n            </el-button>\n           </el-form-item>\n           \n      </el-form>\n  </div>\n</template>\n\n<script >\n  export default{\n    name:\"LoginView\",\n    data(){\n      return{\n        //收集表单数据\n        ruleForm:{\n          username:'',\n          yzm:'',\n         \n        },\n        rules:{\n          username: [{ required: true, message: '请输入正确手机号', trigger: 'blur' },\n                     {pattern:/^(?:(?:\\+|00)86)?1(?:(?:3[\\d])|(?:4[5-79])|(?:5[0-35-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\\d])|(?:9[189]))\\d{8}$/,message:'请输入手机号码', trigger: 'blur'}],\n          yzm: [{required: true, message: '请设置密码', trigger: 'blur' }],\n          confirmYzm: [{required: true, message: '请确认密码', trigger: 'blur' }]\n        }\n      }\n    },\n    methods:{\n      //在获取数据\n      handleToLogin(formEl) {\n        if (!formEl) return\n        formEl.validate((valid) => {\n          if (valid) {\n            console.log(this.ruleForm)\n          } else {\n            console.log('error submit!')\n            return false\n          }\n        })\n         if(this.ruleForm.yzm===this.ruleForm.confirmYzm&&this.ruleForm.yzm&&this.ruleForm.confirmYzm){\n           window.location.href='/login'\n        }else if(!this.ruleForm.username){\n          alert('请输入电话号码')\n        }else if(!this.ruleForm.yzm||!this.ruleForm.confirmYzm){\n          alert('请输入密码')\n        }\n        else{\n          alert('两次输入密码不一致'),\n          this.ruleForm.yzm='',\n          this.ruleForm.confirmYzm=\"\"\n\n        }\n        \n        // window.location.href('/login')这是一个错误写法！！！\n        // window.location.href='/login'\n      }\n    }\n\n  }\n\n</script>\n\n<style lang=\"scss\" scoped>\n .el-form{width: 400px;margin: 20px auto;}\n.el-button{margin: 0 auto;width: 100%;}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}